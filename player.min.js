var player1;function plyrSetup(){if(window.addEventListener("orientationchange",(function(){Math.abs(window.orientation)>45&&Math.abs(window.orientation)<135?player1.fullscreen.enter():player1.fullscreen.exit()})),player1.on("playing",e=>{if(playfirsttime&&"undefined"!=typeof Storage){let e=localStorage.getItem("playback-"+window.location.href.split("?")[1]);null!==e&&(player1.currentTime=parseFloat(e)),playfirsttime=!1}}),player1.on("seeking",e=>{window.innerWidth<960&&seekFast()}),void 0!==screen.orientation&&(player1.on("enterfullscreen",e=>{screen.orientation.lock("landscape")}),player1.on("exitfullscreen",e=>{screen.orientation.unlock()})),player1.on("error",e=>{var t=document.getElementsByTagName("video")[0];console.log("Error occured, reloading video..."),t.load()}),document.addEventListener("keyup",e=>{e.shiftKey&&"ArrowRight"===e.key&&player1.forward(80)},!1),"undefined"!=typeof Storage){null!==localStorage.getItem("premiumkey")&&timeMonitor()}document.getElementById("videocontainer").style.display="block"}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("video");var t=window.location.href.split("?")[1];if(!1===(t=dec64(t)))return void shownotif("URL Invalid");if(checkvideo(t),window.innerWidth>960&&!("ontouchstart"in window))var n={controls:!0,seek:!0},o=["play-large","play","progress","current-time","duration","mute","volume","settings","pip","airplay","fullscreen"];else n={controls:!1,seek:!0},o=["play-large","rewind","play","fast-forward","progress","current-time","duration","settings","pip","airplay","fullscreen"];const r={i18n:{play:"Play (K)",pause:"Pause (K)",mute:"Mute (M)",unmute:"Unmute (M)",enterFullscreen:"Enter fullscreen (F)",exitFullscreen:"Exit fullscreen (F)"},controls:o,tooltips:n,seekTime:5,keyboard:{focused:!0,global:!0},fullscreen:{iosNative:!0}};if(setTimeout(()=>{document.getElementById("videocontainer").style.display="block"},5e3),Hls.isSupported()&&t.includes(".m3u8")){const n=new Hls;n.loadSource(t),n.on(Hls.Events.MANIFEST_PARSED,(function(t,o){const i=n.levels.map(e=>e.height).reverse();r.quality={default:i[0],options:i,forced:!0,onChange:e=>{return t=e,void window.hls.levels.forEach((e,n)=>{e.height===t&&(window.hls.currentLevel=n)});var t}},player1=new Plyr(e,r),plyrSetup()})),n.attachMedia(e),window.hls=n}else player1=new Plyr(e,r),plyrSetup(),player1.source={type:"video",sources:[{src:t}]}});var monitorInterval,playfirsttime=!0;function timeMonitor(){"undefined"!=typeof Storage&&(monitorInterval=setInterval(()=>{!playfirsttime&&player1.playing&&localStorage.setItem("playback-"+window.location.href.split("html?")[1],player1.currentTime)},2e3))}var seekLastTime,seeking=!1;function seekFast(){seeking&&seekLastTime<player1.currentTime&&(player1.forward(75),seeking=!1),seeking=!0,seekLastTime=player1.currentTime,setTimeout(()=>{seeking=!1},500)}function checkvideo(e){var t=new XMLHttpRequest;t.open("GET",e),t.timeout=5e3,t.onload=function(){200!==this.status&&shownotif("Video expired, try reload or use another stream",2e4)},t.onerror=function(){shownotif("Video expired, try reload or use another stream",2e4)},t.send()}function shownotif(e,t=4e5){var n=document.getElementById("notif");n.innerHTML=e,n.style.display="block",setTimeout((function(){n.style.display="none"}),t)}function dec64(e){if(void 0===e||""===e.trim())return!1;try{return atob(e)}catch(e){return!1}}
